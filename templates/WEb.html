
{% extends "BaseGeneric.html" %}
{% load static %}
{% block content %}
   <title>{{web}} </title>






   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


   <!-- Google Tag Manager -->
   <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
 })(window,document,'script','dataLayer','{{web.pixal_id}}');</script>
   <!-- End Google Tag Manager -->

<meta name="keywords" content="{{ WEb.keywords }} " />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:slnt,wght@0,500;0,700;2,400&family=Koulen&family=Staatliches&display=swap');
body, html {
  height: 100%;
  margin: 0;
font-family: 'Cairo', sans-serif;

}
* {box-sizing: border-box;}
{% if web.silderImage %}
.hero-image {
  background-image: url("{{web.silderImage.url}}");
/*    background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("slider.png");
*/  height: 500px;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  position: relative;
  border: 1px solid #ccc;
  border-radius: 5px;
  width: 98%;
  margin-right:1%;
  margin-top: 5px;

}
 {% endif %}
.hero-text {
  text-align: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #000;
}

.hero-text button {
  border: none;
  outline: 0;
  display: inline-block;
  padding: 10px 25px;
  color: black;
  background-color: #ddd;
  text-align: center;
  cursor: pointer;
}

.hero-text button:hover {
  background-color: #555;
  color: white;
}



</style>


  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css'>

<style>
/*

*/

/* @import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap"); */
 .head{
 position: fixed;
  z-index: 55;
  margin-top: -90px;

 }
.wrapper {

  width: 500px;
  display: inline-flex;
  list-style: none;
position: relative;
  margin-top: px;
  z-index: 55;   margin: auto;
}


.wrapper .icon {
  position: relative;
  background: #ffffff;
  border-radius: 50%;
  padding: 15px;
  margin: 10px;
  width: 50px;
  height: 50px;
  font-size: 18px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      border: 1px solid #ccc;


}

.wrapper .tooltip {
  position: absolute;
  top: 15px;
  font-size: 14px;
  background: #ffffff;
  color: #ffffff;
  padding: 5px 8px;
  border-radius: 5px;
  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.wrapper .tooltip::before {
  position: absolute;
  content: "";
  height: 8px;
  width: 8px;
  background: #ffffff;
  bottom: -3px;
  left: 50%;
  transform: translate(-50%) rotate(45deg);
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.wrapper .icon:hover .tooltip {
  top: 70px;
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.wrapper .icon:hover span,
.wrapper .icon:hover .tooltip {
  text-shadow: 0px -1px 0px rgba(0, 0, 0, 0.1);
}

.wrapper .facebook:hover,
.wrapper .facebook:hover .tooltip,
.wrapper .facebook:hover .tooltip::before {
  background: #1877F2;
  color: #ffffff;
}

.wrapper .twitter:hover,
.wrapper .twitter:hover .tooltip,
.wrapper .twitter:hover .tooltip::before {
  background: #1DA1F2;
  color: #ffffff;
}

.wrapper .instagram:hover,
.wrapper .instagram:hover .tooltip,
.wrapper .instagram:hover .tooltip::before {
  background: #e5b0b0;
  color: #ffffff;
}

.wrapper .snapchat:hover,
.wrapper .snapchat:hover .tooltip,
.wrapper .snapchat:hover .tooltip::before {
  background: #ffe950;
  color: #fff;
}

.wrapper .whatsapp:hover,
.wrapper .whatsapp:hover .tooltip,
.wrapper .whatsapp:hover .tooltip::before {
  background: #08b915;
  color: #ffffff;
}


@media screen and (max-width: 650px) {
  .head{
display:none;

  }

.wrapper .icon {

  background:#fff;
  border-radius: 50%;
  padding: 5px;
  margin: 5px;
  width: 40px;
  height: 40px;
  font-size: 18px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      border: 1px solid #ccc;


}
.wrapper .tooltip {

  top: 5px;

}



</style>


<div  class="head">

  <ul class="wrapper">
<a href=" {{web.facebooklinke }} ">
  <li class="icon facebook">
    <span class="tooltip">Facebook</span>
    <span><i class="fab fa-facebook-f"></i></span>
  </li></a>
  <a href=" {{web.Twitterlinke }} ">
  <li class="icon twitter">
    <span class="tooltip">Twitter</span>
    <span><i class="fab fa-twitter"></i></span>
  </li></a>
  <a href=" {{web.instagramlinke }} ">
  <li class="icon instagram">
    <span class="tooltip">Instagram</span>
    <span><i class="fab fa-instagram"></i></span>
  </li></a>
  <a href=" {{web.snapchat }} ">
  <li class="icon snapchat">
    <span class="tooltip">snapchat</span>
    <span><i class="fab fa-snapchat"></i></span>
  </li></a>


<a href=" {{web.linkedinlinke }} ">
  <li class="icon facebook">
    <span class="tooltip">linkedin</span>
    <span><i class="fab fa-linkedin"></i></span>
  </li></a>

<a href=" {{web.Whatsapp }} ">
  <li class="icon whatsapp">
    <span class="tooltip">whatsapp</span>
    <span><i class="fab fa-whatsapp"></i></span>
  </li></a>


</ul>
 </div>



    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{web.pixal_id}}"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


 <div class="topnav" id="myTopnav"  style ="  margin-top: 50px;">




{% if web.logo %}
 <a href="{% url 'webs:web' web.slug %}" class="active"><div class="div-logo" >
<img src="{{web.logo.url}}" class="logo-img" alt="{{web}}"> </div> </a>{% endif %}



<a href="{% url 'webs:web' web.slug %}">الصفحه الرئيسيه</a>
<a href="{% url 'webs:doctor' web_slug=web.slug %}" >الأطباء</a>

   <a href="{% url 'webs:categories_services' web.slug  %}">جميع العروض  </a>


{% for category in categories.all %}
<a href="{% url 'webs:categories' web.slug category.id %}">   {{category.Name}}      </a>
 {% endfor %}



   <a href="javascript:void(0);" class="icon" onclick="myFunction()">
     <samp class="icon-span">
     <i class="fa fa-bars"></i>    </samp>
   </a>
 </div>
</header>














<div class="hero-image"></div>




  <style>

.flex-container {
/*box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;*/
  border: 1px solid #ccc;
  border-radius: 5px;
  display: flex;
  flex-direction: row;
  font-size: 30px;
  text-align: center;
  width: 98%;
  margin-right:1%;
  margin-top: 25px;
  padding: 30px;
  background-color: #fff;
}
.flex-container1 {
  /*box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;*/
    border-radius: 5px;
    display: flex;
    flex-direction: row;
    font-size: 30px;
    text-align: center;
    width: 98%;
    margin-right:1%;
    margin-top: 25px;
    padding: 30px;
    background-color: #fff;
  }
.flex-item-left {
  background-color: #fff;
  padding: 10px;
  flex: 40% ;
  border-radius: 8px;
  margin-top: 5px;
  float: right;
}

.flex-item-right {
  background-color: #fff;
  display: flex;
  flex-direction: row;
  padding: 0px;
}




.chip {
  display: flex;
  flex-direction: row;
  border-radius: 25px;
   margin: auto;
}

.chip img {
  float: right;
  height: 150px;
  width:  150px;
  border-radius: 50%;
}

.flex-item-left1{

width: 50%; text-align: right; float: right; padding: 8px;

}
.flex-item-left2{

width: 50%; text-align: right; float: left; padding: 30px; margin : auto;
}

  .buttonCall{
   background-color:#000;
   border: none;
   color: #dda741;
   text-align: center;
   text-decoration: none;
   display: inline-block;
   font-size: 16px;
   padding: 12px 50px;
   border-radius: 5px;
   cursor: pointer;margin: auto;
 }

@media screen and (max-width: 650px) {
  .flex-container {    flex-direction: column;  }

.flex-item-left {
  background-color: #fff;
  padding: 10px;
 width: 100%;
  border-radius: 8px;
  margin-top: 5px;
  float: right;
}

.flex-item-right {  width: 100%;  padding: 0px;}
.chip {   flex-direction: column;  border-radius: 25px;}

.chip img {
  float: right;
  height: 150px;
  width:  150px;
  border-radius: 50%;
}

.flex-item-left1{
width: 100%;
 text-align: right;
 float: right;
  padding: 3px;
margin:auto;

}
.flex-item-left2{
width: 100%; text-align: right; float: left; padding: 3px;margin:auto;
}

.DivButtonCall{width:100%;    margin: auto;}



  .flex-container {
    flex-direction: column;
  }

  .flex-item-left1{
  width: 100%; text-align: right; float: right; padding: 3px;
  text-align: center;
  margin:auto;

  }
  .flex-item-left2{
  width: 100%;
  text-align: right;
   float: left;
   padding: 3px;
   margin:auto;
    text-align: center;
  }


  .buttonCall{padding: 12px 90px;   }
}



</style>

<div class="flex-container">
  <div class="flex-item-right">
   {% if web.Title_logo %}

   <div class="chip"><img src="{{web.Title_logo.url}}" alt="  {{web.Title}} " width="96" height="96"> </div>

 {% endif %}

 </div>

   <div class="flex-item-left">

 <div  class="flex-item-left1"  >

<h3 style="margin-top: 35px; ">
  {{web.Title}}

</h3>
 </div>

  <div  class="flex-item-left2"  >

    <div class="DivButtonCall">

<a href="tel:{{ link.PHONE }}"  >
<button class="buttonCall"   >  <i class="fa fa-phone"></i> اتصل بنا  </button> </a>




 <div></div></div>


</div>




   </div>
</div>

<div class="flex-containerinfo" >
<style>

  .flex-containerinfohead {
    /*box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;*/
      border-radius: 5px;
      flex-direction: row;
      font-size: 20px;
      text-align: center;
      width: 98%;
      margin-right:1%;
      padding-top: 25px;
      margin-bottom: 25px;

    }
.flex-containerinfo {
/*box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;*/
  /* border: 1px solid #ccc; */
  border-radius: 5px;
  flex-direction: row;
  font-size: 30px;
  text-align: center;
  width: 98%;
  margin-right:1%;
  margin-top: 25px;
  margin-bottom: 25px;
  background-color: #fff;
}


/* Style the tab */
.tabinfo{

  width: 100%;
  overflow: hidden;
  border: 1px solid #ccc;
    float: right;
    padding: 0px;

}

/* Style the buttons inside the tab */
.tabinfo button {
  background-color: inherit;
  float: right;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 26px;
  transition: 0.3s;
  font-size: 17px;

}

/* Change background color of buttons on hover */
.tabinfo button:hover {
  background-color: #ddd;
  border-bottom-color: coral;
}



/* Style the tab content */
.tabcontent {
 font-family: TheSans !important;
  display: none;
  padding: 6px 15px;
  border: 1px solid #ccc;
  border-top: none;
 padding-top: 15px;


/* width: 100%;*/
}
.divinfo {
 position: relative;
text-align: right;
padding: 8px;
}

/* Red border */
hr.new1 {
  border-top: 1px solid #ccc;
  width:100%;
}
.section{ font-size: 20px;
 display: inline-block;
  padding: 0 10px;
  font-size: 16px;
  line-height: 30px;
  border-radius: 25px;
  border: 1px solid #ccc;
  margin :3px;
  /* margin-bottom: 15px; */
}
</style>




{% if web.info %}
<div class="divinfo">
<h3 style="font-size: 25px;padding: 5px;margin-top: 25px; color: #071c4d">  عن المستشفى
</h3>  <p style="font-size: 20px;padding-top: 13px;padding: 10px;">  {{web.info}}</p>

{% else %}
{% endif %}




    {% if department %}
<div class="divinfo">
  <h3 style="font-size: 25px;  color:#071c4d">  التخصصات الطبية </h3>
{% for department in  department %}<div class="section" >{{department.name}}</div> {% endfor %}
</div>
{% else %}
{% endif %}




{% if insurance %}
<div class="divinfo">
  <h3 style="font-size: 25px;padding: 5px;  color: #071c4d">  التأمين الطبي</h3>
{% for insurance in   insurance  %}  <div class="section" >  {{insurance.name}}</div>{% endfor %}</div>
</div>
       {% else %}
{% endif %}


</div>

<div style="width: 100%;">


 <style>
   .scrollmenu {

     overflow: auto;
     white-space: nowrap;
   }

   .scrollmenu span{
     display: inline-block;

     text-decoration: none;
   }


   .scrollmenu::-webkit-scrollbar-thumb {
     background: #fff;
     width: 15px;
    outline: 1px solid #eee;
   }
   .scrollmenu::-webkit-scrollbar-thumb {
           background-color: #666;

         }



       </style>


<style>



.column {
 float: right;
 width:19%;
 margin-bottom: 16px;
 border-radius: 5px;
 margin:5px;
}

/* Responsive layout - makes a one column-layout instead of two-column layout */
@media (max-width: 800px) {
 .column {
   width: 50%;
   display: block;
 }

}

.dr-dsk{display:block; }
.dr-mobil{display:none;}






@media screen and (max-width: 650px) {


  .dr-dsk{display:none;}
   .dr-mobil{display:block;}



 .column {
   width: 100%;
   display: block;
   height: auto;

 }
}

.carddr {

}

.container {
 padding: 0 12px;
}

.container::after, .row::after {
 content: "";
 clear: both;
 display: table;

}

.title {font-size: 15px;
 color: grey;
 position: relative;
 margin-bottom: 5px;
text-overflow: clip;
white-space: normal;

}

.buttoncard {
 border-radius: 5px;
 outline: 0;
 display: inline-block;
 padding: 8px;
 color: #686565;
 /* border: 1px solid #ccc; */
 padding-bottom:5px;
 text-align: center;
 cursor: pointer;
 width: 50%;
}

.buttoncard:hover {
 background-color:#d7d7d7;
 color: #333333;
 /* border: 1px solid #333333; */
}
</style>




 {% if section %}

<section class="dr-dsk">
  <div class="flex-containerinfohead " >
<h4 style="margin: 25px;">  خدماتنا      </h4>
 </div>
   <div class="row">

{% for section in section %}

  <span >
  <div class="column">

    <div class="carddr">

      {% if  section.image %}

          <img src="{{section.image.url}}" alt=" {{section.name}} " style="width:100%;  border-radius: 5px 5px 0px 0px;">
     {% endif %}
          <div class="container">
            <h5 style="text-align:center; color: #dda741;font-size: 15px; " >  {{section.name}} </h5>

      </div>
    </div>
 </div></span>
 {% endfor %}

 {% else %}
 {% endif %}







   </div>
</section>
   {% if section %}
<section class="dr-mobil">

   <div class="flex-containerinfohead " >
   <h4 style="margin: 25px;">  خدماتنا      </h4>
  </div>
    <div class="row">
   <div class="scrollmenu">
  {% for section in section %}

   <span >
   <div class="column">

     <div class="carddr">

   {% if  section.image %}

       <img src="{{section.image.url}}" alt=" {{section.name}} " style="width:100%;  border-radius: 5px 5px 0px 0px;">
  {% endif %}
       <div class="container">
         <h5 style="text-align:center; color: #dda741;font-size: 15px; " >  {{section.name}} </h5>

       </div>
     </div>
  </div></span>
  {% endfor %}




          {% else %}
   {% endif %}



  </div></div>


</section>



{% if category_services %}
<div class="flex-containerinfohead " >
 <h4 style="margin: 25px;"> العروض</h4>
</div>

  {% for category, services in category_services.items %}



<section style="  height: auto;width:100%; margin: auto; margin-top: 15px; margin-bottom: 25px;">

<div style="width: 99%; margin: auto;  border-radius: 8px;">

<div style="width: 100%; margin: auto;">{% if category.Image %}
<img   src="{{category.Image.url}}" alt=" {{category.Name}} " style="width:100%;
box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;   border-radius: 8px;">{% endif %}

</div>

<div class="section-header ">
<h2 class="section--title"><span>{{ category.Name }}</span></h2>

<hr class="divider">

</div>



    <div class="Container">
{% for service in services %}
<div class="card card-div">
<a href="{% url 'webs:service' web.slug category.id service.id %}">
<div class="discount-percentage">
{% if service.discount_percentage == 0 %}
{% else %}
<button type="button"class="discount-but"  name="button"> {{ service.discount_percentage|floatformat }}%</button>
{% endif %}
</div>
<div class="gow-img-div">
{% if service.Image %}
<img src="{{ service.Image.url }}" alt="{{ service.Title }}">
{% endif %}
</div>
</a>
<div class="text-container">
<a href="{% url 'webs:service' web.slug category.id service.id %}">
<h2 class="item-name">{{ service.Title }}</h2></a>
<div class="pricing-and-cart">
<div class="pricing">
{% if service.sale_price %}
<p class="current-price">{{ service.sale_price }}{{web.currencyـname}}</p>
<p class="original-price" style=" margin-top:-20px;">{{ service.price }}  {{web.currencyـname}} </p>
{% else %}
<p class="current-price">{{ service.price }}   {{web.currencyـname}}  </p>
{% endif %}
</div>
<div style="  width: 150px;">
<div style="  width: 40%;float:right; position:relative;margin-top:5px; ">
{% if  service.doctors.Image %}
<img src="{{service.doctors.Image.url}}" alt="{{service.doctors.Name}} " class='card_imG'>
{% endif %}
</div>  <div style="  width: 60%;float:right; position:relative; margin-top:10px;">
<p style=" color: #d1c091; font-size: 10px; margin-bottom:0px;text-align: right;
">دكتور مقدم الخدمة</p>
</div>
<p style=" color: #d1c091; font-size: 10px; margin-bottom:0px;text-align: center;">  {{ service.doctors.Name }} </p>

</div>
</div>
 <div style="  position: relative;float: right;width: 100%; margin-top:-25px;" >
<a   class="add-service" data-id="{{ service.id }}" data-web-slug="{{ web.slug }}">
<button id="button" onclick="toggle('{{ service.id }}')" style="box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;">احجز الآن</button>  </a>
<a href="{% url 'webs:service' web.slug category.id service.id %}">
<button id="button" style=" color: #d1c091;background-color: #fff;">  معرفة المزيد</button>  </a>  </div></div>  </div>
<div id="open-{{ service.id }}" class="modal">
<form class="modal-content animate" action=" " method="post">
<div class="imgcontainer">
<span onclick="document.getElementById('open-{{ service.id }}').style.display='none'" class="close" title="Close Modal">&times;</span>
<h4>يمكنك إضافة بيانات الحجز الخاصة بك هنا</h4>
</div>
<div class="container">
{% csrf_token %}
<input type="hidden" name="service_id" value="{{ service.id }}">
{{ form.as_p }}
<h3 style="text-align: center;">اختيار التاريخ المناسب </h3>
<ul id="date-select-{{ service.id }}" style="float:right; border: 2px solid #ddd; margin:20px; width: 90%; margin-right:5%; border-radius: 10px;"></ul>
<br>
<h3 style="text-align: center;"> اختتيار الوقت المناسب </h3>
<ul id="time-select" style="float:right;   margin:20px; width: 90%; margin-right:5%; border-radius: 10px;"></ul>
<br>
<ul id="time-select-{{ service.id }}"></ul>
<div class="form-group">
<input type="text" id="id_date_{{ service.id }}" name="id_date_{{ service.id }}" class="form-control"  style="display: none;"></div>
<div class="form-group">
<input type="text" id="id_time_{{ service.id }}" name="id_time_{{ service.id }}" class="form-control"  style="display: none;">
</div><br><div style="   width: 100%; " ></div>
<div class="form-group"  style=" float:right; margin:5px; width: 90%; margin-right:5%; border-radius: 10px;">
<p id="selected_date_{{ service.id }}"style="font-size: 20px;"> </p> </div> <br>
<div class="form-group"  style=" float:right;  margin:5px; width: 90%; margin-right:5%; border-radius: 10px;">
<p id="selected_time_{{ service.id }}" style="font-size: 20px;"></p> </div>
<button class="buttonform" type="submit">احجز</button></div>
<div class="container">
<div class="cancelbtn" onclick="document.getElementById('open-{{ service.id }}').style.display='none'">      إلغاء </div>  </div>  </form>  </div>

  <script type="text/javascript">
    function toggle(id) {
      var modal = document.getElementById("open-" + id);
      if (modal.style.display === "none") {
        modal.style.display = "block";
        getAvailableDates(id);
      } else {
        modal.style.display = "none";
      }
    }

    function addAppointment(serviceId, webSlug, date) {
      var csrfToken = $('input[name="csrfmiddlewaretoken"]').val();
      $.ajax({
        url: '/add_to_appointment/' + serviceId + '/' + webSlug + '/',
        type: 'POST',
        data: {
          'serviceId': serviceId,
          'webSlug': webSlug,
          'date': date,
          'csrfmiddlewaretoken': csrfToken
        },
        success: function(data) {
          if (data.success) {
            console.log('Appointment added successfully');
            getAvailableDates(serviceId, date); // pass the date parameter
          } else {
            console.log('Error adding appointment');
          }
        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    }

    function getAvailableDates(serviceId, date) {
      var webSlug = '{{ web.slug }}';
      $.ajax({
        url: '/add_to_appointment/' + serviceId + '/' + webSlug + '/',
        type: 'GET',
        data: {
          'date': date
        },
        success: function(data) {
          if (data.dates) {
            var select = $('#date-select-' + serviceId);
            select.empty();
            $.each(data.dates, function(index, date) {
              console.log(date);
              var li = $('<li class="butsuccess">').text(date).attr('value', date);
              li.click(function() {
                select.find('.Selected').removeClass('Selected');
                $(this).addClass('Selected');
                ment(serviceId, webSlug, $(this).text()); // call the ment function when a date is selected
              });
              select.append(li);
            });
          } else {
            console.log('No dates found');
          }
        },
        error: function(xhr, status, error) {
          console.log(error);
        }
      });
    }


    function ment(serviceId, webSlug, selectedDate) {
      if (selectedDate) {
        var csrfToken = $('input[name="csrfmiddlewaretoken"]').val();
        $.ajax({
          url: '/add_to_appointment/' + serviceId + '/' + webSlug + '/',
          type: 'POST',
          data: {
            'serviceId': serviceId,
            'webSlug': webSlug,
            'date': selectedDate,
            'csrfmiddlewaretoken': csrfToken
          },
          success: function(data) {
            if (data.success) {
              var select = $('#time-select-' + serviceId);
              select.empty();
              if (data.available_times && data.available_times.length > 0) {
                $.each(data.available_times, function(index, time) {
                  var li = $('<li class="butsuccess">').text(time);
                  li.click(function() {
                    select.find('.Selected').removeClass('Selected');
                    $(this).addClass('Selected');
                    updateDateTimeInputs(selectedDate, $(this).text(), serviceId); // call the updateDateTimeInputs function with the selected date, time, and serviceId
                  });
                  select.append(li);
                });
              } else {
                select.append($('<p style="  background-color:#f2747436 ; width: 100%;  text-align: center;"  border-radius: 50px;  padding:5px; >').text('لا يوجد موعد متاح في هذا التاريخ اختر تاريخ اخر'));
              }
            } else {
              console.log('Error adding appointment');
            }
          },
          error: function(xhr, status, error) {
            console.log(error);
          }
        });
      } else {
        console.log('No date selected');
      }
    }
    function updateDateTimeInputs(date, time, serviceId) {
      if (date !== null && date !== undefined) {
        $('#id_date_' + serviceId).val(date);
        $('#selected_date_' + serviceId).html('&#10003; التاريخ المختار : ' + date);
        // console.log('Date set to ' + date);
        // alert('Date set to ' + date);
      }
      if (time !== null && time !== undefined) {
        $('#id_time_' + serviceId).val(time);
        // alert('Time set to ' + time);
        $('#selected_time_' + serviceId).html('&#10003; الوقت المختار : ' + time);
        // console.log('Time set to ' + time);
      }
    }


  </script>

  {% endfor %}




  </div></div>











<br><br><br>
</section>
{% endfor %}
{% else %}
<div  style=" width: 100%; ">

<p  style="tate-align:center;padding:50px;  ">لا توجد فئات أو خدمات متاحة </p>

</div>
{% endif %}



{% if doctors %}

<section class="dr-dsk">
  <div class="flex-containerinfohead " >
  <h4 style="margin: 25px;"> فريق الأطباء المخلصين لدينا</h4>
 </div>
   <div class="row">

 {% for doctor in doctors %}

  <span >
  <div class="column">

    <div class="carddr">

  {% if  doctor.Image %}

      <img src="{{doctor.Image.url}}" alt=" {{doctor.Name}} " style="width:100%;  border-radius: 5px 5px 0px 0px;">
 {% endif %}
      <div class="container">
        <h5 style="text-align:center; color: #dda741;font-size: 15px; " >  {{doctor.Name}} </h5>
  <hr style="    width: 4rem;height: 3px;font-weight: bold;background-color: #dda741;  margin: auto;margin-top: 15px;">

        <p class="title"style="text-align:center;padding: 15px; font-size: 15px;">  {{doctor.jobtitle}}</p>
        <a href="{% url 'webs:doctor_detail' web_slug=doctor.web.slug doctor_id=doctor.id %}" >

             <p class="title"style="text-align:center;padding: 15px; font-size: 15px;color: #dda741;"> عرض  خدمات  الطبيب</p>

</a>


      </div>
    </div>
 </div></span>
 {% endfor %}



   </div>
</section>
{% else %}
{% endif %}

{% if doctors %}

<section class="dr-mobil">

   <div class="flex-containerinfohead " >
   <h4 style="margin: 25px;"> فريق الأطباء المخلصين لدينا</h4>
  </div>
    <div class="row">
   <div class="scrollmenu">
  {% for doctor in doctors %}

   <span >
   <div class="column">
     <div class="carddr">

   {% if  doctor.Image %}
   <a href="{% url 'webs:doctor_detail' web_slug=doctor.web.slug doctor_id=doctor.id %}" >

       <img src="{{doctor.Image.url}}" alt=" {{doctor.Name}} " style="width:100%;  border-radius: 5px 5px 0px 0px;">
  {% endif %}</a>
       <div class="container">
         <h5 style="text-align:center; color: #dda741;font-size: 15px; " >  {{doctor.Name}} </h5>
   <hr style="    width: 4rem;height: 3px;font-weight: bold;background-color: #dda741;  margin: auto;margin-top: 15px;">

         <p class="title"style="text-align:center;padding: 15px; font-size: 15px;">  {{doctor.jobtitle}}</p>
         <a href="{% url 'webs:doctor_detail' web_slug=doctor.web.slug doctor_id=doctor.id %}" >

              <p class="title"style="text-align:center;padding: 15px; font-size: 15px;color: #dda741;">  عرض  خدمات  الطبيب</p>

</a>

       </div>
     </div>
  </div></span>
  {% endfor %}



  </div></div>


</section>
{% else %}
{% endif %}


<!--  -->

<div class="flex-containerinfo" >





  {% if  web.qestions.all %}

<div class="flex-containerinfo1" >

  <style>

  .qus {


    width: 70%;
    margin: auto;
    margin-bottom: 20px;
  }

  .accordion {

    background-color: #fff;
    border-radius: 8px;
    margin-top:0px;
    color: #000;
    cursor: pointer;
    padding: 20px;
    width: 100%;

    border: none;
    text-align: center;
    outline: none;
    font-size: 15px;
    transition: 0.4s;
     border: 1px solid #ccc;
  }


  .accordion:hover {
    background-color: #ccc;
  }

  .accordion:after {
    content: '\002B';
    color: #777;
    font-weight: bold;
    float: right;
    margin: 5px;
  }


  .panel {
    margin-top:15px;
    position: relative;
    font-size: 15px;
    padding:3px;
    background-color: white;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    width: 100%;
   text-align: center;
  }

  @media screen and (max-width: 650px) {
  .qus {


    width: 90%;
    margin: auto;
    margin-bottom: 20px;
  }

  }
  </style>



  <h4 style="margin-top: 25px;"> أسئلة مكررة</h4>
  <p style="font-size: 15px; margin-bottom:15px;">  ستجد أدناه إجابات لبعض الأسئلة الأكثر شيوعًا في  {{web }}  نحن نضيف باستمرار الأسئلة الأكثر شيوعًا إلى هذه الصفحة

  </p>

  {% for question in  web.qestions.all %}
  <div class="qus">

  <button class="accordion"> {{question.question}} </button>
  <div class="panel">
    <p style="     font-size: 15px;">

 {{question.answer}}  </p>
  </div>
  </div>
  {% endfor %}



  <script>
  var acc = document.getElementsByClassName("accordion");
  var i;

  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + "px";
      }
    });
  }
  </script>

  </div>

  {% else %}
  {% endif %}



  {% if image %}
  <section class="flex-container-InfoAbout1">
      <div style="width: 100%;">
          <div class="site-heading ">
              <h3 class="Title  "> صور من داخل العيـــادة </h3>
              <hr>
          </div><br>
      </div>


  <style media="screen">
   .Title {
       padding: 5px;
       font-size: 18px;
       text-align: center;
       color: #dda741;
   }

   hr {
       width: 4rem;
       height: 3px;
       font-weight: bold;
       background-color: #dda741;
       margin: auto;
       margin-top: 15px;
   }
    .gallerybefor-home {
     margin: 10px;

     float: right;
     width: 31.4%;
       border-radius: 5px;
   }

   .imagebefor-home{
     border: 1px solid  #dda741;
     width: 100%;
      border-radius: 8px;
   }
   .imagebefor-home:hover{  transform: scale(1.05);
     overflow: hidden;

       transform: scale(1.5);
       overflow: hidden;
       transition: 0.1s ease all;

   }



   @media screen and (max-width: 650px) {
    .gallerybefor-home {
     margin: 5px;

     float: right;
     width: 100%;
       border-radius: 5px;
   }

   .imagebefor-home:hover{
   }

   }


  </style>



  <div style="width: 100%;">
      {% for image in image %} <div class="gallerybefor-home"> {% if image.image %} <img src="{{image.image.url}}" alt="{{image.imagename}}" class="imagebefor-home">{% endif %} </div> {% endfor %}
     </div>
  </section>
  {% else %}
  {% endif %}




 <div class="gmap_canvas"  style =" border: 1px solid  #dda741;  border-radius: 8px;">

 <iframe class="gmap_iframe" width="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=660&amp;height=385&amp;hl=en&amp;q=
  {{web.Map_Address}}
&amp;t=p&amp;z=18&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe> </div>
          <style>
              .mapouter {
                  position: relative;
                  text-align: right;
                  width: 100%;
                  height: 385px;
              }

              .gmap_canvas {
                  overflow: hidden;
                  background: none !important;
                  width: 100%;
                  height: 385px;
              }

              .gmap_iframe {
                  height: 385px !important;
              }
          </style>
      </div>


{% if web.Whatsapp %}
<div class="floating_btn" style=" margin-bottom:50px; right:30px;" id="whatsapp-button">
<a target="_blank" href="https://wa.me/{{web.Whatsapp}}  ">
<div class="contact_icon"> <i class="fab fa-whatsapp my-float"></i> </div>
</a> </div>{% endif %}


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script type="text/javascript">
      $(document).ready(function() {
        $('#whatsapp-button').click(function() {
          $.ajax({

            url: '{% url "webs:increment_click_web_whatsapp" web_slug=web.slug%}',
            method: 'POST',
            data: {
              'csrfmiddlewaretoken': '{{ csrf_token }}',
            },
            success: function(response) {
              // Update the click count on the page
              $('#click-whatsapp-count').text(response.click_whatsapp);
            },
          });
        });
      });
    </script>










{% endblock %}
